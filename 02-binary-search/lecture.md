# Lecture: Binary Search

ในหัวข้อนี้เราจะมาพูดถึง Algorithm ในการค้นหาตัวๆหนึ่งที่มีประสิทธิภาพมากๆ ก็คือ Binary Search ก่อนที่เราจะมาพูดถึงข้อดีของมัน เราจะมาพูดถึงนิยาม วิธีดั้งเดิม ข้อดี ข้อเสีย และข้อจำกัดของมันกันก่อน

## นิยามของ Binary Search

นิยามของ Binary Search ก็คือ การค้นหาตำแหน่งของเป้าหมายในข้อมูลที่ถูกเรียงลำดับหรือข้อมูลที่มีทิศทางบ่งบอกที่แน่ชัด จากตรงนี้หมายความว่าถ้าข้อมูลเป็นข้อมูลแบบสุ่มและไร้ทิศทางเราจะไม่สามารถใช้ Binary search ได้เลยเนื่องจากการทำงานของมันนั้นอาศัยทิศทางของมูลเพื่อตัดสินใจในการ "แบ่ง" ข้อมูลที่ไม่จำเป็นออกไป

ข้อจำกัด: Binary Search ใช้ได้เฉพาะกับข้อมูลที่มีลำดับหรือเรียงลำดับเท่านั้น ถ้าข้อมูลเป็นแบบสุ่มและไร้ทิศทาง เราจะไม่สามารถใช้ Binary Search ได้เลย

## Linear Search

เรามาดูวิธีการค้นหาแบบดั้งเดิมกันก่อน เรียกว่า Linear Search ซึ่งเป็นวิธีการที่ตรงไปตรงมาที่สุด โดยเราจะเริ่มจากการตรวจสอบตัวแรกในข้อมูลไปจนถึงตัวสุดท้าย ตัวอย่างเช่น ถ้าผมต้องการค้นหาคำว่า "zoo" ใน dictionary โดยใช้ Linear Search เราจะเริ่มค้นหาจาก "A" ไปจนถึง "Z"

ข้อดี: วิธีนี้ง่ายและตรงไปตรงมา

ข้อเสีย: ต้องใช้เวลาในการค้นหานานมาก เพราะต้องเช็คทีละตัวจากตัวแรกถึงตัวสุดท้าย ซึ่ง Time Complexity คือ O(n) ซึ่งหมายความว่า ถ้ามี 10,000 คำศัพท์ ก็ต้องเช็ค 10,000 ครั้ง

## Binary Search

เราจะทำการ Optimize วิธีการหาด้วย Binary Search โดยใช้ลักษณะของข้อมูลที่เรียงลำดับอยู่แล้ว ยกตัวอย่างเช่น คำที่เรากำลังหาคือคำว่า "Seb" แทนที่จะหาตั้งแต่ "A" เราจะเปิด dictionary ไปที่กลางเลยทันที ซึ่งถ้าเจอว่า "M" เราก็จะเลือกหาต่อจากด้านขวามือ (เพราะ "S" อยู่ขวามือของ "M") โดยไม่ต้องค้นหาทางซ้ายของ "M"

การทำงานของ Binary Search คือการแบ่งข้อมูลออกเป็น 2 ซีก และเลือกค้นหาจากซีกที่มีข้อมูลใกล้เคียงกับตัวเป้าหมายที่สุด

เหตุผลที่ชื่อว่า Binary Search: คำว่า "Binary" แปลว่า "สอง" ซึ่งหมายถึงการแบ่งข้อมูลออกเป็นสองส่วนในแต่ละขั้นตอน

Time Complexity ของ Binary Search คือ O(log2 n) ซึ่งหมายความว่า ถ้าข้อมูลมีขนาด 10,000 ค่า เราต้องใช้เวลาแค่ประมาณ 13 รอบในการค้นหาข้อมูลที่ต้องการ

ทำไม Binary Search มี Time Complexity เป็น O(log2 n)?
การค้นหาใน Binary Search จะทำการแบ่งข้อมูลในแต่ละครั้งให้เหลือครึ่งหนึ่ง ซึ่งในกรณีที่ข้อมูลมีขนาดเป็น n ข้อมูลจะถูกแบ่งในลักษณะนี้:

n = 16 → 8 → 4 → 2 → 1

เราจะแบ่งข้อมูลไปเรื่อยๆ จนกว่าจะเจอข้อมูลที่ต้องการหรือเหลือข้อมูลแค่ตัวเดียวที่ต้องการค้นหา

## โค้ดของ Linear Search และ Binary Search

Linear Search Implementation

```python
def linear_search(target: int, array: list[int]) -> int:
index, length = 0, len(array) - 1

    while index <= length:
        if array[index] == target:
            return index
        index += 1  # เพิ่มการอัพเดต index หลังจากเช็คแต่ละตัว

    return -1  # คืนค่า -1 ถ้าไม่พบ
```

Binary Search Implementation
ในการทำงานของ Binary Search เราจะเริ่มจากการกำหนดตำแหน่งของ left และ right ให้ชี้ไปที่ตัวแรกและตัวสุดท้ายของข้อมูลตามลำดับ จากนั้นเราจะหาค่าตรงกลาง mid ด้วย

```txt
mid = left + (right - left) // 2
```

จากนั้นจะทำการเปรียบเทียบว่า mid ตรงกับ target หรือไม่ ถ้าไม่ตรงก็จะทำการปรับขอบเขตการค้นหาต่อไป

```python
def binary_search(target: int, array: list[int]) -> int:
left, right = 0, len(array) - 1

    while left <= right:
        mid = left + (right - left) // 2
        if array[mid] == target:
            return mid
        elif array[mid] < target:
            left = mid + 1  # ค้นหาด้านขวา
        else:
            right = mid - 1  # ค้นหาด้านซ้าย

    return -1  # คืนค่า -1 ถ้าไม่พบ
```
